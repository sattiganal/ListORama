@model Stores
@using Microsoft.AspNetCore.Http
@using Newtonsoft.Json
@{
    ViewData["Title"] = "Store Offers";
    Layout = "~/Views/Shared/_Layout.cshtml";
    User loggedInUser = JsonConvert.DeserializeObject<User>(@Context.Session.GetString("loggedInUser"));
}
<main role="main" class="container">
    <form class="py-5 justify-content-md-center" asp-controller="List" asp-action="AddList" method="post">
        <div class="my-3 px-2 bkgd-white rounded box-shadow">
            <div class="row">
                <div class="py-2 px-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="75" height="75" class="svg-inline--fa fa-user-circle fa-w-16" role="img" aria-hidden="true" viewBox="0 0 496 512" focusable="false"
                         data-icon="user-circle" data-prefix="fas">
                        <path fill="#1c96dc" d="M 248 8 C 111 8 0 119 0 256 s 111 248 248 248 s 248 -111 248 -248 S 385 8 248 8 Z m 0 96 c 48.6 0 88 39.4 88 88 s -39.4 88 -88 88 s -88 -39.4 -88 -88 s 39.4 -88 88 -88 Z m 0 344 c -58.7 0 -111.3 -26.6 -146.5 -68.2 c 18.8 -35.4 55.6 -59.8 98.5 -59.8 c 2.4 0 4.8 0.4 7.1 1.1 c 13 4.2 26.6 6.9 40.9 6.9 c 14.3 0 28 -2.7 40.9 -6.9 c 2.3 -0.7 4.7 -1.1 7.1 -1.1 c 42.9 0 79.7 24.4 98.5 59.8 C 359.3 421.4 306.7 448 248 448 Z" />
                    </svg>
                </div>
                <div class="col-md-4 ">
                    <p class="text-semi">
                        <b>@loggedInUser.fullName</b>&nbsp;
                        <a href="CreateList.html" data-toggle="tooltip" title="Edit Profile">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" class="svg-inline--fa fa-user-edit fa-w-20" role="img" aria-hidden="true" viewBox="0 0 640 512" focusable="false"
                                 data-icon="user-edit" data-prefix="fas">
                                <path fill="#1c96dc" d="M 224 256 c 70.7 0 128 -57.3 128 -128 S 294.7 0 224 0 S 96 57.3 96 128 s 57.3 128 128 128 Z m 89.6 32 h -16.7 c -22.2 10.2 -46.9 16 -72.9 16 s -50.6 -5.8 -72.9 -16 h -16.7 C 60.2 288 0 348.2 0 422.4 V 464 c 0 26.5 21.5 48 48 48 h 274.9 c -2.4 -6.8 -3.4 -14 -2.6 -21.3 l 6.8 -60.9 l 1.2 -11.1 l 7.9 -7.9 l 77.3 -77.3 c -24.5 -27.7 -60 -45.5 -99.9 -45.5 Z m 45.3 145.3 l -6.8 61 c -1.1 10.2 7.5 18.8 17.6 17.6 l 60.9 -6.8 l 137.9 -137.9 l -71.7 -71.7 l -137.9 137.8 Z M 633 268.9 L 595.1 231 c -9.3 -9.3 -24.5 -9.3 -33.8 0 l -37.8 37.8 l -4.1 4.1 l 71.8 71.7 l 41.8 -41.8 c 9.3 -9.4 9.3 -24.5 0 -33.9 Z" />
                            </svg>
                        </a>
                    </p>
                    <p class="small">Member since June 2019</b></p>
                </div>
            </div>
        </div>
        <div class="my-3 p-3 bkgd-white rounded box-shadow">
            <div class="menurow py-1 float-right">
                <div class="col-sm-4">
                    <div>
                        <a asp-controller="User" asp-action="Dashboard" data-toggle="tooltip" title="Back to Dashboard">
                            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" class="svg-inline--fa fa-list-alt fa-w-16" role="img" aria-hidden="true" viewBox="0 0 512 512" focusable="false"
                                 data-icon="list-alt" data-prefix="fas">
                                <path fill="#1c96dc" d="M 464 480 H 48 c -26.51 0 -48 -21.49 -48 -48 V 80 c 0 -26.51 21.49 -48 48 -48 h 416 c 26.51 0 48 21.49 48 48 v 352 c 0 26.51 -21.49 48 -48 48 Z M 128 120 c -22.091 0 -40 17.909 -40 40 s 17.909 40 40 40 s 40 -17.909 40 -40 s -17.909 -40 -40 -40 Z m 0 96 c -22.091 0 -40 17.909 -40 40 s 17.909 40 40 40 s 40 -17.909 40 -40 s -17.909 -40 -40 -40 Z m 0 96 c -22.091 0 -40 17.909 -40 40 s 17.909 40 40 40 s 40 -17.909 40 -40 s -17.909 -40 -40 -40 Z m 288 -136 v -32 c 0 -6.627 -5.373 -12 -12 -12 H 204 c -6.627 0 -12 5.373 -12 12 v 32 c 0 6.627 5.373 12 12 12 h 200 c 6.627 0 12 -5.373 12 -12 Z m 0 96 v -32 c 0 -6.627 -5.373 -12 -12 -12 H 204 c -6.627 0 -12 5.373 -12 12 v 32 c 0 6.627 5.373 12 12 12 h 200 c 6.627 0 12 -5.373 12 -12 Z m 0 96 v -32 c 0 -6.627 -5.373 -12 -12 -12 H 204 c -6.627 0 -12 5.373 -12 12 v 32 c 0 6.627 5.373 12 12 12 h 200 c 6.627 0 12 -5.373 12 -12 Z" />
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
            <h6 class="border-bottom border-gray pb-2 mb-0">
                Online Offers
            </h6>
            <div class="media text-muted pt-3">
                <div class="row px-2 col-md-10 justify-content-md-center">
                    @if (null != Model.stores)
                    {
                        @foreach (Store listItem in Model.stores)
                        {
                            @if (null != listItem.preview)
                            {
                                <div class="col-md-5 px-2 py-2">
                                    <div class="ad-widget p-3" style="width: 18rem;">
                                        <img src="@listItem.preview.image" class="card-img-top" alt="...">
                                        <div class="card-body">
                                            <h5 class="card-title">@listItem.preview.title</h5>
                                            <p class="card-text">@listItem.preview.description</p>
                                            <a href="@listItem.preview.url" class="btn btn-primary" target="_blank">Store Website</a>
                                        </div>
                                    </div>
                                </div>
                            }
                            else
                            {
                                <div class="col-md-5 px-2 py-2">
                                    <div class="ad-widget p-3" style="width: 18rem;">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="85" height="35" class="svg-inline--fa fa-store-alt fa-w-20" role="img" aria-hidden="true" viewBox="0 0 640 512" 
                                             focusable="false" data-icon="store-alt" data-prefix="fas"><path fill="#1c96dc" d="M 320 384 H 128 V 224 H 64 v 256 c 0 17.7 14.3 32 32 32 h 256 c 17.7 0 32 -14.3 32 -32 V 224 h -64 v 160 Z m 314.6 -241.8 l -85.3 -128 c -6 -8.9 -16 -14.2 -26.7 -14.2 H 117.4 c -10.7 0 -20.7 5.3 -26.6 14.2 l -85.3 128 c -14.2 21.3 1 49.8 26.6 49.8 H 608 c 25.5 0 40.7 -28.5 26.6 -49.8 Z M 512 496 c 0 8.8 7.2 16 16 16 h 32 c 8.8 0 16 -7.2 16 -16 V 224 h -64 v 272 Z" />
                                        </svg>
                                        <div class="card-body">
                                            <h5 class="card-title">@listItem.name</h5>
                                            <p class="card-text">Please visit the store website.</p>
                                            <a href="@listItem.URL" class="btn btn-primary" target="_blank">Store Website</a>
                                        </div>
                                    </div>
                                </div>
                            }
                        }
                    }
                </div>
            </div>
        </div>
    </form>
</main>
